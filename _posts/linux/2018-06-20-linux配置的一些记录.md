---
layout:post

comments:true

catagories: linux
---


- linux环境配置的一些问题

  - Cannot find a valid baseurl for repo: base/7/x86_64

    ```
    Linux出现这种情况一般是没有联网

    解决办法：
    1、打开 vi /etc/sysconfig/network-scripts/ifcfg-eth0（每个机子都可能不一样centos7就不是ifcfg-eth0了，但格式会是“ifcfg-xxx”），把ONBOOT=no，改为ONBOOT=yes(ONBOOT是指明在系统启动时是否激活网卡，只有在激活状态的网卡才能去连接网络，进行网络通讯)

    2、service network restart （重启网络）
    ```

  - Linux CentOS 7安装GNOME图形界面并设置默认启动方式

    ```
    安装图形用户接口X Window System：
    yum groupinstall "X Window System"
    安装图形用界面gnome：
    yum groupinstall "GNOME Desktop"
    设置centos系统默认的启动方式：
    systemctl set-default multi-user.target  //设置成命令模式
    systemctl set-default graphical.target  //设置成图形模式
    reboot 重启系统
    ```

  - yum源重装的相关操作

    ```
    1.查看已安装的yum包
      rpm -qa | grep yum  
      卸载软件包
      rpm -e --nodeps yum
    2.下载安装依赖包 python python-inipars
      1）下载地址：http://mirrors.163.com/centos/7/os/x86_64/Packages/ 或者
      http://centos.ustc.edu.cn/centos/7/os/x86_64/Packages/
      找到对应的包如：python-2.7.5-34.el7.x86_64.rpm 和 python-iniparse-0.4-9.el7.noarch.rpm
      2）安装
      rpm -ivh python-2.7.5-34.el7.x86_64.rpm python-iniparse-0.4-9.el7.noarch.rpm
    3.下载安装yum包：
      1)下载地址：http://mirrors.163.com/centos/7/os/x86_64/Packages/ 或者
      http://centos.ustc.edu.cn/centos/7/os/x86_64/Packages/
      找到对应包如：yum-3.4.3-132.el7.centos.0.1.noarch.rpm 和 yum-metadata-parser-1.1.4-10.el7.x86_64.rpm 和  yum-plugin-fastestmirror-1.1.31-34.el7.noarch.rpm
      2)安装
      rpm -ivh yum-*
      若安装失败可重新输入此命令并加参数 --nodeps --force
    ```

  - yum源修改相关

    ```
    1、进入到系统yum源的目录下：
       #cd  /etc/yum.repos.d
    2、备份
       备份/etc/yum.repos.d/CentOS-Base.repo
       mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
    3、下载yum源：
       #wget http://mirrors.163.com/.help/CentOS7-Base-163.repo
    4、修改repo源：   
       将文件中的$releasever替換成7 （7是指LINUX版本號）
       #vi CentOS6-Base-163.repo
    5、改名成默认repo
       #mv CentOS7-Base-163.repo CentOS7-Base.repo (这步可做可不做)
    6、运行yum clean all（等同于  yum cleanheaders ;  yum cleanpackages）;
       #yum clean all
    7、运行makecache 生成缓存
       #yum makecache  
    8、更新YUM文件
       #yum update
    ```
    ​

    ​
